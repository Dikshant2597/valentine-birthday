<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:radial-gradient(circle at top,#fff0f6,#ffd6e7);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  overflow:hidden;
}

.hidden{display:none;}

.white-card{
  background:white;
  padding:30px;
  border-radius:22px;
  box-shadow:0 20px 50px rgba(0,0,0,.2);
  text-align:center;
  width:320px;
}

.button-zone{
  position:relative;
  height:120px;
  margin-top:20px;
}

button{
  padding:14px 24px;
  border-radius:999px;
  border:none;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

#yesBtn{background:#ff3b7a;color:white;}
#noBtn{background:#e5e7eb;position:absolute;}

.stage{
  width:360px;
  position:relative;
  text-align:center;
}

.photo-card{
  width:100%;
  aspect-ratio:3/4;
  perspective:1200px;
  margin:auto;
}

.inner{
  width:100%;
  height:100%;
  transition:transform .8s;
  transform-style:preserve-3d;
}

.flipped .inner{transform:rotateY(180deg);}

.side{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.25);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:18px;
}

.front img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:20px;
}

.back{
  background:white;
  transform:rotateY(180deg);
  font-size:18px;
  line-height:1.5;
}

.action{
  position:absolute;
  right:-90px;
  top:40%;
  background:none;
  color:#ff3b7a;
  font-size:16px;
}

.fade-left{
  animation:fadeLeft 1s forwards;
}

@keyframes fadeLeft{
  to{opacity:0;transform:translateX(-120%);}
}
</style>
</head>

<body>

<!-- START -->
<div class="white-card" id="start">
  <h2>Will you be my Valentine? üíï</h2>
  <div class="button-zone" id="zone">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>
</div>

<!-- SLIDES -->
<div class="stage hidden" id="stage">
  <div class="photo-card" id="card">
    <div class="inner">
      <div class="side front"><img id="img"></div>
      <div class="side back" id="msg"></div>
    </div>
  </div>
  <button class="action hidden" id="actionBtn">Click me üíñ</button>
</div>

<audio id="romanticMusic" src="music/romantic.mp3" loop></audio>
<audio id="birthdayMusic" src="music/birthday.mp3"></audio>

<script>
const romantic=[
 {img:"photos/romantic/romantic1.jpg",msg:"My favorite place has always been right next to you."},
 {img:"photos/romantic/romantic2.jpg",msg:"I love seeing this soft, cozy side of you ‚Äî it feels like home."},
 {img:"photos/romantic/romantic3.jpg",msg:"Even the simplest days feel special when I‚Äôm with you."}
];

const birthday=[
 {img:"photos/birthday/birthday1.jpg",msg:"The woman who makes every room brighter just by being in it."},
 {img:"photos/birthday/birthday2.jpg",msg:"You carry grace, strength, and kindness so effortlessly."},
 {img:"photos/birthday/birthday3.jpg",msg:"I love how comfortable and real you are ‚Äî always."},
 {img:"photos/birthday/birthday4.jpg",msg:"Cute, mischievous, and impossible to ignore üòå"},
 {img:"photos/birthday/birthday5.jpg",msg:"You make even the silliest moments unforgettable."},
 {img:"photos/birthday/birthday6.jpg",msg:"Growing older with you sounds like my favorite plan."}
];

let phase="romantic", index=0, noCount=0;

const start=document.getElementById("start");
const stage=document.getElementById("stage");
const card=document.getElementById("card");
const img=document.getElementById("img");
const msg=document.getElementById("msg");
const btn=document.getElementById("actionBtn");

const rm=document.getElementById("romanticMusic");
const bm=document.getElementById("birthdayMusic");

document.getElementById("zone").onmousemove=()=>{
  const no=document.getElementById("noBtn");
  no.style.left=Math.random()*180+"px";
  no.style.top=Math.random()*80+"px";
  noCount++;
  if(noCount===4){
    alert("Haha üòå there‚Äôs no escape from me.\nAll you can do now is press YES üíï");
  }
};

document.getElementById("yesBtn").onclick=()=>{
  start.classList.add("hidden");
  stage.classList.remove("hidden");
  rm.play();
  loadSlide();
};

function loadSlide(){
  const data=phase==="romantic"?romantic:birthday;
  card.className="photo-card";
  img.src=data[index].img;
  msg.textContent=data[index].msg;
  btn.classList.remove("hidden");

  btn.onclick=()=>{
    card.classList.add("flipped");
    btn.classList.add("hidden");

    setTimeout(()=>{
      card.classList.remove("flipped");
      card.classList.add("fade-left");

      setTimeout(()=>{
        index++;
        if(index>=data.length){
          if(phase==="romantic"){
            phase="birthday";
            index=0;
            rm.pause();
            if(confirm("Okay‚Ä¶ now it‚Äôs time to turn the energy up üéâ")){
              bm.play();
              loadSlide();
            }
          }else{
            alert("Happy Valentine‚Äôs Day ‚ù§Ô∏è\nAnd Happy Birthday üéÇ");
          }
        }else{
          loadSlide();
        }
      },1000);
    },6000);
  };
}
</script>

</body>
</html>
