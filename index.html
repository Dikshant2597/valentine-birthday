<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#ffeef4;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}
.hidden{display:none}

/* BANNER */
#banner{
  position:fixed;
  top:15px;
  width:100%;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}

/* START CARD */
.card{
  background:white;
  padding:25px;
  border-radius:20px;
  width:320px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.buttons{
  position:relative;
  height:120px;
  margin-top:20px;
}
button{
  padding:12px 22px;
  border:none;
  border-radius:999px;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}
#yes{background:#ff3b7a;color:white}
#no{background:#ddd;position:absolute}

/* SLIDES */
#stage{
  width:360px;
  text-align:center;
}
#photoBox{
  width:100%;
  aspect-ratio:3/4;
  perspective:1000px;
}
.inner{
  width:100%;
  height:100%;
  transition:transform .8s;
  transform-style:preserve-3d;
}
.flip .inner{transform:rotateY(180deg)}
.face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  border-radius:20px;
  overflow:hidden;
  background:white;
  display:flex;
  justify-content:center;
  align-items:center;
}
.face img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.back{
  transform:rotateY(180deg);
  padding:18px;
  font-size:18px;
}
#action{
  margin-top:15px;
  background:#ff3b7a;
  color:white;
}

/* MODAL */
#modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:center;
  align-items:center;
}
#modalBox{
  background:white;
  padding:22px;
  border-radius:20px;
  width:300px;
  text-align:center;
}
</style>
</head>

<body>

<div id="banner" class="hidden"></div>

<!-- START -->
<div id="start" class="card">
  <h2>Will you be my Valentine? üíï</h2>
  <div class="buttons" id="zone">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<!-- SLIDES -->
<div id="stage" class="hidden">
  <div id="photoBox">
    <div class="inner" id="inner">
      <div class="face"><img id="img"></div>
      <div class="face back" id="msg"></div>
    </div>
  </div>
  <button id="action" class="hidden">Click me üíñ</button>
</div>

<!-- MODAL -->
<div id="modal" class="hidden">
  <div id="modalBox">
    <p id="modalText"></p>
    <button id="modalBtn">Okay üíñ</button>
  </div>
</div>

<audio id="romanticMusic" src="music/romantic.mp3" loop></audio>
<audio id="birthdayMusic" src="music/birthday.mp3"></audio>

<script>
const romantic=[
 {img:"photos/romantic/romantic1.jpg",msg:"My favorite place has always been right next to you."},
 {img:"photos/romantic/romantic2.jpg",msg:"I love seeing this soft, cozy side of you ‚Äî it feels like home."},
 {img:"photos/romantic/romantic3.jpg",msg:"Even the simplest days feel special when I‚Äôm with you."}
];
const birthday=[
 {img:"photos/birthday/birthday1.jpg",msg:"You make every room brighter."},
 {img:"photos/birthday/birthday2.jpg",msg:"Grace, kindness, and that smile."},
 {img:"photos/birthday/birthday3.jpg",msg:"I love how real you are."},
 {img:"photos/birthday/birthday4.jpg",msg:"Cute and mischievous üòå"},
 {img:"photos/birthday/birthday5.jpg",msg:"You make silly moments magical."},
 {img:"photos/birthday/birthday6.jpg",msg:"Growing older with you feels right."}
];

let phase="romantic";
let index=0;
let noCount=0;

const banner=document.getElementById("banner");
const start=document.getElementById("start");
const stage=document.getElementById("stage");
const img=document.getElementById("img");
const msg=document.getElementById("msg");
const inner=document.getElementById("inner");
const action=document.getElementById("action");
const modal=document.getElementById("modal");
const modalText=document.getElementById("modalText");
const modalBtn=document.getElementById("modalBtn");

const rm=document.getElementById("romanticMusic");
const bm=document.getElementById("birthdayMusic");

/* MODAL */
function showModal(text,cb){
  modalText.textContent=text;
  modal.classList.remove("hidden");
  modalBtn.onclick=()=>{
    modal.classList.add("hidden");
    if(cb) cb();
  };
}

/* NO BUTTON */
document.getElementById("zone").onmousemove=()=>{
  const no=document.getElementById("no");
  no.style.left=Math.random()*180+"px";
  no.style.top=Math.random()*80+"px";
  noCount++;
  if(noCount===4){
    showModal("Haha üòå there‚Äôs no escape from me. Press YES üíï");
  }
};

/* YES */
document.getElementById("yes").onclick=()=>{
  start.classList.add("hidden");
  banner.textContent="Happy Valentine‚Äôs Day, Baby ‚ù§Ô∏è";
  banner.classList.remove("hidden");
  stage.classList.remove("hidden");
  rm.play();
  loadSlide();
};

function loadSlide(){
  const data=phase==="romantic"?romantic:birthday;
  action.classList.add("hidden");
  inner.className="inner";
  img.src=data[index].img;
  msg.textContent=data[index].msg;

  action.classList.remove("hidden");
  action.onclick=()=>{
    inner.classList.add("flip");
    action.classList.add("hidden");

    setTimeout(()=>{
      index++;
      if(index>=data.length){
        if(phase==="romantic"){
          showModal("Okay‚Ä¶ now it‚Äôs time to turn the energy up üéâ",()=>{
            phase="birthday";
            index=0;
            rm.pause(); rm.currentTime=0;
            banner.textContent="Happy Birthday, Baby üéÇ";
            bm.play();
            loadSlide();
          });
        }else{
          // END REMOVED ON PURPOSE
          bm.pause();
          banner.textContent="That‚Äôs all‚Ä¶ ‚ù§Ô∏è";
        }
      }else{
        inner.className="inner";
        loadSlide();
      }
    },6000);
  };
}
</script>

</body>
</html>
