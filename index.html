<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:system-ui, sans-serif;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  transition:background 1s;
}

/* THEMES */
body.start{background:#ffeef4;}
body.valentine{background:linear-gradient(#ffd1dc,#ff9eb8);}
body.birthday{background:linear-gradient(#fff0b3,#ffd166);}

.hidden{display:none;}
.center{width:420px;text-align:center;z-index:2;}
.box{
  background:white;
  padding:28px;
  border-radius:22px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
}

button{
  padding:14px 26px;
  border-radius:999px;
  border:none;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

#yes{background:#ff3b7a;color:white;}
#no{background:#eee;position:absolute;}
.zone{position:relative;height:130px;margin-top:20px;}

/* BANNER */
.banner{
  position:fixed;
  top:18px;
  left:50%;
  transform:translateX(-50%);
  background:white;
  padding:12px 26px;
  border-radius:999px;
  font-weight:800;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
  z-index:3;
}

/* FLOATING ELEMENTS */
.float{
  position:fixed;
  bottom:-60px;
  animation:floatUp linear infinite;
  opacity:.25;
  pointer-events:none;
  font-size:40px;
}
@keyframes floatUp{
  to{transform:translateY(-130vh);}
}

.confetti{
  position:fixed;
  top:-40px;
  animation:fall linear infinite;
  font-size:26px;
}
@keyframes fall{
  to{transform:translateY(120vh);}
}

/* SLIDE LAYOUT */
.slide-wrap{
  display:flex;
  gap:24px;
  align-items:center;
  justify-content:center;
}

/* CARD */
.card{
  width:260px;
  aspect-ratio:3/4;
  perspective:1200px;
}
.inner{
  width:100%;
  height:100%;
  transition:transform .8s;
  transform-style:preserve-3d;
}
.flip .inner{transform:rotateY(180deg);}
.face{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.25);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:18px;
}
.front img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:20px;
}
.back{
  background:white;
  transform:rotateY(180deg);
  font-size:18px;
  line-height:1.5;
}

/* ACTION */
.action-side{min-width:140px;}
.val-btn{background:#ff3b7a;color:white;}
.bd-btn{background:#ff9f1c;color:white;}

.fade-left{
  animation:fadeLeft 1s forwards;
}
@keyframes fadeLeft{
  to{opacity:0;transform:translateX(-120%);}
}
</style>
</head>

<body class="start">

<div id="banner" class="banner hidden"></div>
<div id="fx"></div>

<!-- START -->
<div class="center box" id="start">
  <h2>Will you be my Valentine? üíï</h2>
  <div class="zone" id="zone">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<!-- SLIDE -->
<div class="center hidden" id="slide">
  <div class="slide-wrap">
    <div class="card" id="card">
      <div class="inner">
        <div class="face front"><img id="img"></div>
        <div class="face back" id="msg"></div>
      </div>
    </div>

    <div class="action-side">
      <button id="actionBtn" class="val-btn hidden">Click me üíñ</button>
    </div>
  </div>
</div>

<!-- TRANSITION -->
<div class="center box hidden" id="transition">
  <h2>Okay‚Ä¶ now it‚Äôs time to turn the energy up üéâ</h2>
  <button id="goBirthday" class="bd-btn">Let‚Äôs go üéÇ</button>
</div>

<audio id="romantic" src="music/romantic.mp3" loop></audio>
<audio id="birthday" src="music/birthday.mp3"></audio>

<script>
const romantic=[
 ["photos/romantic/romantic1.jpg","My favorite place has always been right next to you."],
 ["photos/romantic/romantic2.jpg","I love this soft, cozy side of you."],
 ["photos/romantic/romantic3.jpg","Even simple days feel special with you."]
];
const birthday=[
 ["photos/birthday/birthday1.jpg","The woman who lights up every room."],
 ["photos/birthday/birthday2.jpg","Grace and beauty, always."],
 ["photos/birthday/birthday3.jpg","So effortlessly you."],
 ["photos/birthday/birthday4.jpg","Cute and mischievous üòå"],
 ["photos/birthday/birthday5.jpg","You make life fun."],
 ["photos/birthday/birthday6.jpg","My favorite future."]
];

let set=romantic, index=0, noCount=0;

const body=document.body;
const banner=document.getElementById("banner");
const fx=document.getElementById("fx");

const start=document.getElementById("start");
const slide=document.getElementById("slide");
const card=document.getElementById("card");
const img=document.getElementById("img");
const msg=document.getElementById("msg");
const btn=document.getElementById("actionBtn");

const romanticMusic=document.getElementById("romantic");
const birthdayMusic=document.getElementById("birthday");

/* NO BUTTON */
zone.onmousemove=()=>{
  const n=document.getElementById("no");
  n.style.left=Math.random()*180+"px";
  n.style.top=Math.random()*80+"px";
  noCount++;
  if(noCount===4){
    alert("Haha üòå there‚Äôs no escape from me.\nYou HAVE to press YES üíï");
  }
};

/* YES */
yes.onclick=()=>{
  start.classList.add("hidden");
  body.className="valentine";
  banner.textContent="üíï Happy Valentine‚Äôs Day, baby üíï";
  banner.classList.remove("hidden");
  spawnRomanticFX();
  slide.classList.remove("hidden");
  romanticMusic.play();
  loadSlide();
};

function spawnRomanticFX(){
  fx.innerHTML="";
  for(let i=0;i<14;i++){
    const e=document.createElement("div");
    e.className="float";
    e.textContent="‚ù§Ô∏è";
    e.style.left=Math.random()*100+"%";
    e.style.animationDuration=10+Math.random()*8+"s";
    fx.appendChild(e);
  }
}

/* SLIDES */
function loadSlide(){
  card.className="card";
  img.src=set[index][0];
  msg.textContent=set[index][1];
  btn.classList.remove("hidden");

  btn.onclick=()=>{
    btn.classList.add("hidden");
    card.classList.add("flip");

    setTimeout(()=>{
      card.classList.remove("flip");
      card.classList.add("fade-left");

      setTimeout(nextSlide,1000);
    },6000);
  };
}

function nextSlide(){
  index++;
  if(index>=set.length){
    if(set===romantic){
      slide.classList.add("hidden");
      transition.classList.remove("hidden");
      return;
    }else{
      alert("Happy Valentine‚Äôs Day ‚ù§Ô∏è\nAnd Happy Birthday üéÇ");
      return;
    }
  }
  loadSlide();
}

/* BIRTHDAY */
goBirthday.onclick=()=>{
  transition.classList.add("hidden");
  body.className="birthday";
  banner.textContent="üéÇ Happy Birthday, baby üéÇ";
  spawnBirthdayFX();
  romanticMusic.pause();
  birthdayMusic.play();
  btn.className="bd-btn";
  set=birthday;
  index=0;
  slide.classList.remove("hidden");
  loadSlide();
};

function spawnBirthdayFX(){
  fx.innerHTML="";
  for(let i=0;i<20;i++){
    const e=document.createElement("div");
    e.className="confetti";
    e.textContent=["üéâ","üéÇ","üí•","üéà"][Math.floor(Math.random()*4)];
    e.style.left=Math.random()*100+"%";
    e.style.animationDuration=6+Math.random()*6+"s";
    fx.appendChild(e);
  }
}
</script>

</body>
</html>
